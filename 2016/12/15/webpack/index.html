<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <meta name="description" content="webpackwebpack是一款强大的模块加载器兼打包工具，它能把各种资源，例如JS（含JSX）、coffee、样式（含less/sass）、图片等都作为模块来使用和处理,优势如下:

webpack 是以commonJS的形式来书写，但对AMD/CMD的支持也很全面,方便旧项目进行代码迁移
能被" />
  

  
  
  
  
  

  <title>顾佳伟</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="webpackwebpack是一款强大的模块加载器兼打包工具，它能把各种资源，例如JS（含JSX）、coffee、样式（含less/sass）、图片等都作为模块来使用和处理,优势如下:  webpack 是以commonJS的形式来书写，但对AMD/CMD的支持也很全面,方便旧项目进行代码迁移 能被模块化的不仅仅是JS,还包括各种资源文件 开发便捷，能替代部分gulp的工作，比如打包、混淆压缩、图">
<meta name="keywords" content="2016年12月">
<meta property="og:type" content="article">
<meta property="og:title" content="由浅入深了解webpack的使用">
<meta property="og:url" content="http://yoursite.com/2016/12/15/webpack/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="webpackwebpack是一款强大的模块加载器兼打包工具，它能把各种资源，例如JS（含JSX）、coffee、样式（含less/sass）、图片等都作为模块来使用和处理,优势如下:  webpack 是以commonJS的形式来书写，但对AMD/CMD的支持也很全面,方便旧项目进行代码迁移 能被模块化的不仅仅是JS,还包括各种资源文件 开发便捷，能替代部分gulp的工作，比如打包、混淆压缩、图">
<meta property="og:updated_time" content="2016-12-16T16:16:58.555Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="由浅入深了解webpack的使用">
<meta name="twitter:description" content="webpackwebpack是一款强大的模块加载器兼打包工具，它能把各种资源，例如JS（含JSX）、coffee、样式（含less/sass）、图片等都作为模块来使用和处理,优势如下:  webpack 是以commonJS的形式来书写，但对AMD/CMD的支持也很全面,方便旧项目进行代码迁移 能被模块化的不仅仅是JS,还包括各种资源文件 开发便捷，能替代部分gulp的工作，比如打包、混淆压缩、图">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  

  
  <!-- baidu webmaster push -->
 <!-- <script src='//push.zhanzhang.baidu.com/push.js'></script>-->
</head>
<body class="home blog custom-background custom-font-enabled single-author">
  <div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/archives" title="Hexo" rel="home">首页</a>
      </h1>
    </hgroup>
</header>
      <div id="main" class="wrapper">
        <div id="primary" class="site-content"><div id="content" role="main"><article id="post-webpack" class="post-webpack post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title article-title">
      由浅入深了解webpack的使用
    </h1>
  

        

      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <h2 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h2><p>webpack是一款强大的模块加载器兼打包工具，它能把各种资源，例如JS（含JSX）、coffee、样式（含less/sass）、图片等都作为模块来使用和处理,优势如下:</p>
<ol>
<li>webpack 是以<code>commonJS</code>的形式来书写，但对AMD/CMD的支持也很全面,方便旧项目进行代码迁移</li>
<li>能被模块化的不仅仅是JS,还包括各种资源文件</li>
<li>开发便捷，能替代部分<code>gulp</code>的工作，比如打包、混淆压缩、图片转base64等</li>
<li>扩展性强，插件机制完善，特别是支持<code>React</code>热插拔</li>
</ol>
<h2 id="1-webpack命令行"><a href="#1-webpack命令行" class="headerlink" title="1. webpack命令行"></a>1. webpack命令行</h2><h3 id="1-1-全局安装webpack"><a href="#1-1-全局安装webpack" class="headerlink" title="1.1 全局安装webpack"></a>1.1 全局安装webpack</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install webpack -g</div></pre></td></tr></table></figure>
<h3 id="1-2-本地安装webpack"><a href="#1-2-本地安装webpack" class="headerlink" title="1.2 本地安装webpack"></a>1.2 本地安装webpack</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install webpack --save-dev</div></pre></td></tr></table></figure>
<h3 id="1-3-命令行中使用"><a href="#1-3-命令行中使用" class="headerlink" title="1.3 命令行中使用"></a>1.3 命令行中使用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$    webpack index.js bundle.js</div></pre></td></tr></table></figure>
<blockquote>
<p>index.js 打包的入口文件路径<br>bundle.js 打包后的输出文件名</p>
</blockquote>
<h3 id="1-4-命令行参数"><a href="#1-4-命令行参数" class="headerlink" title="1.4 命令行参数"></a>1.4 命令行参数</h3><ul>
<li>webpack 开发环境下编译</li>
<li>webpack -p 生产环境下编译，会压缩生成后的文件</li>
<li>webpack -w 开发环境下持续的监听文件&gt;变动来进行编译</li>
<li>webpack -d 生成map映射文件,会在控制台的Sources页签中出现存放打包前原始文件的webpack://目录，可以打断点，帮助调试  <figure class="highlight plain"><figcaption><span>index.js bundle.js -d'``</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">- webpack --progress 显示构建百分比进度</div><div class="line">- webpack --display-error-details 显示打包过程中的出错信息(比如 webpack寻找模块的过程)</div><div class="line">- webpack --profile 输出性能数据，可以看到每一步的耗时</div><div class="line"></div><div class="line"></div><div class="line">## 2. 使用webpack配置文件</div><div class="line"></div><div class="line">### 2.1 初始化git</div><div class="line">```javascript</div><div class="line">$ mkdir webpack-demos &amp;&amp; cd webpack-demos &amp;&amp; git init</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2-2-初始化项目"><a href="#2-2-初始化项目" class="headerlink" title="2.2 初始化项目"></a>2.2 初始化项目</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm init -y</div></pre></td></tr></table></figure>
<h3 id="2-3-增加-gitignore"><a href="#2-3-增加-gitignore" class="headerlink" title="2.3 增加.gitignore"></a>2.3 增加.gitignore</h3><p>创建文件<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ touch.gitignore</div></pre></td></tr></table></figure></p>
<p>在文件中增加以下内容<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">node_modules</div><div class="line">.idea</div></pre></td></tr></table></figure></p>
<h3 id="2-4-在项目根目录下创建src和build目录"><a href="#2-4-在项目根目录下创建src和build目录" class="headerlink" title="2.4 在项目根目录下创建src和build目录"></a>2.4 在项目根目录下创建src和build目录</h3><p><code>src</code>目录存放源码，<code>build</code>目录存放编译打包之后的资源<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ mkdir src build</div></pre></td></tr></table></figure></p>
<h3 id="2-5-增加以下文件"><a href="#2-5-增加以下文件" class="headerlink" title="2.5 增加以下文件"></a>2.5 增加以下文件</h3><h4 id="2-5-1-src-component-js"><a href="#2-5-1-src-component-js" class="headerlink" title="2.5.1 src/component.js"></a>2.5.1 <code>src/component.js</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cd src &amp;&amp; touch component.js</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">exports.name = <span class="string">'zfpx'</span>;</div></pre></td></tr></table></figure>
<h4 id="2-5-2-src-index-js"><a href="#2-5-2-src-index-js" class="headerlink" title="2.5.2 src/index.js"></a>2.5.2 <code>src/index.js</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cd src &amp;&amp; touch index.js</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> comp = <span class="built_in">require</span>(<span class="string">'./component.js'</span>);</div><div class="line"><span class="built_in">console</span>.log(comp.name);</div></pre></td></tr></table></figure>
<h4 id="2-5-3-build-index-html"><a href="#2-5-3-build-index-html" class="headerlink" title="2.5.3 build/index.html"></a>2.5.3 <code>build/index.html</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cd build &amp;&amp; touch index.html</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script src=<span class="string">"bundle.js"</span>&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="2-6-下载webpack"><a href="#2-6-下载webpack" class="headerlink" title="2.6 下载webpack"></a>2.6 下载<code>webpack</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install webpack --save-dev</div></pre></td></tr></table></figure>
<h3 id="2-7-创建webpack的配置文件"><a href="#2-7-创建webpack的配置文件" class="headerlink" title="2.7 创建webpack的配置文件"></a>2.7 创建webpack的配置文件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ touch webpack.config.js</div></pre></td></tr></table></figure>
<p>配置<code>webpack.config.js</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">     <span class="comment">//打包的入口文件  String|Object</span></div><div class="line">    entry: path.resolve(__dirname, <span class="string">'src/index.js'</span>),</div><div class="line">    <span class="attr">output</span>: &#123; <span class="comment">//配置打包结果     Object</span></div><div class="line">        <span class="comment">//定义输出文件路径</span></div><div class="line">        path: path.resolve(__dirname, <span class="string">'build'</span>),</div><div class="line">        <span class="comment">//指定打包文件名称</span></div><div class="line">        filename: <span class="string">'bundle.js'</span></div><div class="line">    &#125;,</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>请注意<code>webpack.config.js</code>这个文件名是定死的，不然会报<code>Output filename not configured</code>的错误；另外，如果不按这个命名，那么在webpack运行的时候需要通过<code>--config</code>这个参数指定配置文件，比如：<code>webpack --config conf.js</code></p>
</blockquote>
<h3 id="2-8-修改-package-json"><a href="#2-8-修改-package-json" class="headerlink" title="2.8 修改 package.json"></a>2.8 修改 <code>package.json</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">  "scripts": &#123;</div><div class="line"><span class="addition">+    "build": "webpack"</span></div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h3 id="2-9-执行命令进行编译"><a href="#2-9-执行命令进行编译" class="headerlink" title="2.9 执行命令进行编译"></a>2.9 执行命令进行编译</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm run build</div></pre></td></tr></table></figure>
<blockquote>
<p>build目录下会新增了一个bundle.js文件，里面就存放着打包后的目录</p>
</blockquote>
<h2 id="3-loader"><a href="#3-loader" class="headerlink" title="3. loader"></a>3. loader</h2><p>使用<code>babel-loader</code>来解析<code>es6写成的模块</code><br><a href="http://webpack.github.io/docs/using-loaders.html" target="_blank" rel="external">加载器列表</a></p>
<h3 id="3-1-安装loader"><a href="#3-1-安装loader" class="headerlink" title="3.1 安装loader"></a>3.1 安装loader</h3><p><code>babel-loader</code>可以将ES6的代码转为ES5的代码<br><a href="http://babeljs.io" target="_blank" rel="external">babel官网</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ npm install babel-loader babel-core --save-dev</div><div class="line">$ npm install babel-preset-es2015 babel-preset-stage-0 --save-dev</div></pre></td></tr></table></figure>
<h3 id="3-2-修改webpack-config-js"><a href="#3-2-修改webpack-config-js" class="headerlink" title="3.2 修改webpack.config.js"></a>3.2 修改<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;</div><div class="line">    ////打包的入口文件  String|Object</div><div class="line">    entry: path.resolve(__dirname, 'src/index.js'),</div><div class="line">    output: &#123;</div><div class="line">        //定义输出文件路径</div><div class="line">        path: path.resolve(__dirname, 'build'),</div><div class="line">        //指定打包文件名称</div><div class="line">        filename: 'bundle.js'</div><div class="line">    &#125;,</div><div class="line">    //定义了对模块的处理逻辑     Object</div><div class="line"><span class="addition">+    module: &#123;</span></div><div class="line"><span class="addition">+        loaders: [ 定义了一系列的加载器   Array</span></div><div class="line"><span class="addition">+            &#123;</span></div><div class="line"><span class="addition">+                test: /\.js$/, //正则，匹配到的文件后缀名</span></div><div class="line"><span class="addition">+                // loader/loaders：string|array，处理匹配到的文件</span></div><div class="line"><span class="addition">+                loader: 'babel-loader'</span></div><div class="line"><span class="addition">+                // include：String|Array  包含的文件夹</span></div><div class="line"><span class="addition">+			     // exclude：String|Array  排除的文件夹</span></div><div class="line"><span class="addition">+</span></div><div class="line"><span class="addition">+            &#125;</span></div><div class="line"><span class="addition">+        ]</span></div><div class="line"><span class="addition">+    &#125;</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<blockquote>
<p>“-loader”其实是可以省略不写的，多个loader之间用“!”连接起来<br>loaders是一个数组</p>
</blockquote>
<h3 id="3-3-添加-babelrc文件"><a href="#3-3-添加-babelrc文件" class="headerlink" title="3.3 添加.babelrc文件"></a>3.3 添加.babelrc文件</h3><p>内容如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">   &quot;presets&quot;: [&quot;es2015&quot;, &quot;stage-0&quot;],</div><div class="line">   &quot;plugins&quot;: []</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="3-4-修改src-component-js"><a href="#3-4-修改src-component-js" class="headerlink" title="3.4 修改src/component.js"></a>3.4 修改<code>src/component.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="deletion">-  exports.name = 'zfpx';</span></div><div class="line"><span class="addition">+  export var name = 'zfpx';</span></div></pre></td></tr></table></figure>
<h3 id="3-4-修改src-index-js"><a href="#3-4-修改src-index-js" class="headerlink" title="3.4 修改src/index.js"></a>3.4 修改<code>src/index.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="deletion">-  var comp = require('./component.js');</span></div><div class="line"><span class="deletion">-  console.log(comp.name);</span></div><div class="line"><span class="addition">+  import &#123;name&#125; from './component.js';</span></div><div class="line"><span class="addition">+  console.log(name);</span></div></pre></td></tr></table></figure>
<h3 id="3-5-增加-babelrc文件"><a href="#3-5-增加-babelrc文件" class="headerlink" title="3.5 增加.babelrc文件"></a>3.5 增加<code>.babelrc</code>文件</h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  "presets": ["es2015", "stage-0"],</div><div class="line">  "plugins": []</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-6-执行命令进行编译"><a href="#3-6-执行命令进行编译" class="headerlink" title="3.6 执行命令进行编译"></a>3.6 执行命令进行编译</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm run build</div></pre></td></tr></table></figure>
<h2 id="4-devServer"><a href="#4-devServer" class="headerlink" title="4. devServer"></a>4. devServer</h2><p><code>webpack-dev-server</code>是一个Web服务器,可以预览项目，并且当修改源码后可以实时刷新页面<br><a href="http://webpack.github.io/docs/webpack-dev-server.html#the-historyapifallback-option" target="_blank" rel="external">server配置</a></p>
<h3 id="4-1-安装devServer"><a href="#4-1-安装devServer" class="headerlink" title="4.1 安装devServer"></a>4.1 安装devServer</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install webpack-dev-server --save-dev</div></pre></td></tr></table></figure>
<h3 id="4-3-修改package-json"><a href="#4-3-修改package-json" class="headerlink" title="4.3 修改package.json"></a>4.3 修改<code>package.json</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">"scripts": &#123;</div><div class="line"><span class="addition">+    "dev": "webpack-dev-server"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-4-配置webpack-config-js"><a href="#4-4-配置webpack-config-js" class="headerlink" title="4.4 配置webpack.config.js"></a>4.4 配置<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+    devServer: &#123;</span></div><div class="line"><span class="addition">+        stats: &#123; colors: true &#125;, //显示颜色</span></div><div class="line"><span class="addition">+        port: 8080,//端口</span></div><div class="line"><span class="addition">+        contentBase: 'build',//指定静态文件的根目录</span></div><div class="line"><span class="addition">+    &#125;</span></div></pre></td></tr></table></figure>
<h3 id="4-5-执行命令进行启动服务"><a href="#4-5-执行命令进行启动服务" class="headerlink" title="4.5 执行命令进行启动服务"></a>4.5 执行命令进行启动服务</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm run dev</div></pre></td></tr></table></figure>
<blockquote>
<p>启动此服务的时候，编译后的产出文件放在内存里,在<code>build</code>目录下看不见,但也不会删除原来已经有的文件</p>
</blockquote>
<h3 id="4-6-预览项目"><a href="#4-6-预览项目" class="headerlink" title="4.6 预览项目"></a>4.6 预览项目</h3><p>打开浏览器中访问<br><a href="http://localhost:8080" target="_blank" rel="external">http://localhost:8080</a></p>
<h3 id="4-7-proxy模拟后台接口"><a href="#4-7-proxy模拟后台接口" class="headerlink" title="4.7 proxy模拟后台接口"></a>4.7 proxy模拟后台接口</h3><h4 id="4-7-1-修改配置webpack-config-js"><a href="#4-7-1-修改配置webpack-config-js" class="headerlink" title="4.7.1 修改配置webpack.config.js"></a>4.7.1 修改配置<code>webpack.config.js</code></h4><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">   //重写url</div><div class="line"><span class="addition">+ function rewriteUrl(replacePath) &#123;</span></div><div class="line"><span class="addition">+     return function (req, opt) &#123;</span></div><div class="line">          //取得?所在的索引</div><div class="line"><span class="addition">+         var queryIndex = req.url.indexOf('?');</span></div><div class="line">          //取得查询字符串的内容</div><div class="line"><span class="addition">+         var query = queryIndex &gt;= 0 ? req.url.substr(queryIndex) : "";</span></div><div class="line">          //$1取自path匹配到的真实路径中的第一个分组</div><div class="line"><span class="addition">+         //把proxy的path替换为 '/$1\.json',</span></div><div class="line"><span class="addition">+         req.url = req.path.replace(opt.path, replacePath) + query;</span></div><div class="line"><span class="addition">+     &#125;;</span></div><div class="line"><span class="addition">+ &#125;</span></div><div class="line"></div><div class="line">    devServer: &#123;</div><div class="line"></div><div class="line">        stats: &#123; colors: true &#125;, //显示颜色</div><div class="line">        port: 8080,//端口</div><div class="line">        contentBase: 'build',//指定静态文件的根目录</div><div class="line"><span class="addition">+       proxy: [</span></div><div class="line"><span class="addition">+           &#123;</span></div><div class="line">                //替换符合此正则的接口路径</div><div class="line"><span class="addition">+               path: /^\/api\/(.*)/,</span></div><div class="line">                //目标域名端口</div><div class="line"><span class="addition">+               target: "http://localhost:8080/",</span></div><div class="line">                //重新定向到新的地址</div><div class="line">                //$1取自path正则匹配到的真实路径的第一个分组</div><div class="line"><span class="addition">+               rewrite: rewriteUrl('/$1\.json'),</span></div><div class="line">                 //修改来源地址</div><div class="line"><span class="addition">+               changeOrigin: true</span></div><div class="line"><span class="addition">+           &#125;</span></div><div class="line"><span class="addition">+       ]</span></div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h4 id="4-7-2-在build目录下添加-book-json"><a href="#4-7-2-在build目录下添加-book-json" class="headerlink" title="4.7.2 在build目录下添加 book.json"></a>4.7.2 在build目录下添加 <code>book.json</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="string">"name"</span>:<span class="string">"javascript"</span>&#125;</div></pre></td></tr></table></figure>
<h4 id="4-7-3-直接访问此接口"><a href="#4-7-3-直接访问此接口" class="headerlink" title="4.7.3 直接访问此接口"></a>4.7.3 直接访问此接口</h4><p>在浏览器输入此地址<br><a href="http://localhost:8080/api/book" target="_blank" rel="external">http://localhost:8080/api/book</a><br>将会被重写向到<br><a href="http://localhost:8080/book.json" target="_blank" rel="external">http://localhost:8080/book.json</a></p>
<h2 id="5-resolve解析"><a href="#5-resolve解析" class="headerlink" title="5. resolve解析"></a>5. resolve解析</h2><h3 id="5-1-extension"><a href="#5-1-extension" class="headerlink" title="5.1 extension"></a>5.1 extension</h3><p>指定<code>extension</code>之后可以不用在<code>require</code>或是<code>import</code>的时候加文件扩展名,会依次尝试添加扩展名进行匹配</p>
<h4 id="5-1-1-修改-webpack-config-js"><a href="#5-1-1-修改-webpack-config-js" class="headerlink" title="5.1.1 修改 webpack.config.js"></a>5.1.1 修改 <code>webpack.config.js</code></h4><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ resolve: &#123;</span></div><div class="line">    //自动补全后缀，注意第一个必须是空字符串,后缀一定以点开头</div><div class="line"><span class="addition">+   extensions: ["",".js",".css",".json"],</span></div><div class="line"><span class="addition">+ &#125;,</span></div></pre></td></tr></table></figure>
<h4 id="5-1-2-修改src-index-js"><a href="#5-1-2-修改src-index-js" class="headerlink" title="5.1.2  修改src/index.js"></a>5.1.2  修改<code>src/index.js</code></h4><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="deletion">- import comp from './component.js';</span></div><div class="line"><span class="addition">+ import comp from './component';</span></div></pre></td></tr></table></figure>
<h3 id="5-2-alias"><a href="#5-2-alias" class="headerlink" title="5.2 alias"></a>5.2 alias</h3><p>配置别名可以加快<code>webpack</code>查找模块的速度</p>
<ul>
<li>每当引入<code>jquery</code>模块的时候，它会直接引入<code>jqueryPath</code>,而不需要从<code>node_modules</code>文件夹中按模块的查找规则查找</li>
<li>不需要<code>webpack</code>去解析<code>jquery.js</code>文件</li>
</ul>
<h4 id="5-2-1-先安装jquery"><a href="#5-2-1-先安装jquery" class="headerlink" title="5.2.1 先安装jquery"></a>5.2.1 先安装jquery</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install jquery --save</div></pre></td></tr></table></figure>
<h4 id="5-2-2-修改-webpack-config-js"><a href="#5-2-2-修改-webpack-config-js" class="headerlink" title="5.2.2 修改 webpack.config.js"></a>5.2.2 修改 <code>webpack.config.js</code></h4><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ var jqueryPath = path.join(__dirname,</span></div><div class="line"><span class="addition">+  "./node_modules/jquery/dist/jquery.js");</span></div><div class="line"></div><div class="line">resolve: &#123;</div><div class="line">       extensions: ["",".js",".css",".json"],</div><div class="line"><span class="addition">+        alias: &#123;</span></div><div class="line"><span class="addition">+            'jquery': jqueryPath</span></div><div class="line"><span class="addition">+        &#125;</span></div><div class="line">    &#125;,</div><div class="line"></div><div class="line">module: &#123;</div><div class="line">       loaders: [</div><div class="line">           &#123;</div><div class="line">               test: /\.js$/,</div><div class="line">               loader: 'babel-loader'</div><div class="line">           &#125;</div><div class="line">       ],</div><div class="line">       //如果你 确定一个模块中没有其它新的依赖 就可以配置这项，webpack 将不再扫描这个文件中的依赖</div><div class="line"><span class="addition">+       noParse: [jqueryPath]</span></div><div class="line">&#125;,</div></pre></td></tr></table></figure>
<h4 id="5-2-3-修改-build-index-html"><a href="#5-2-3-修改-build-index-html" class="headerlink" title="5.2.3 修改 build/index.html"></a>5.2.3 修改 <code>build/index.html</code></h4><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ &lt;div id="app"&gt;&lt;/div&gt;</span></div></pre></td></tr></table></figure>
<h4 id="5-2-4-修改-src-index-js"><a href="#5-2-4-修改-src-index-js" class="headerlink" title="5.2.4 修改 src/index.js"></a>5.2.4 修改 <code>src/index.js</code></h4><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+import $ from 'jquery'</span></div><div class="line"><span class="deletion">- document.write(comp);</span></div><div class="line"><span class="addition">+ $('#app').html(comp);</span></div></pre></td></tr></table></figure>
<h2 id="6-解析less样式文件"><a href="#6-解析less样式文件" class="headerlink" title="6. 解析less样式文件"></a>6. 解析less样式文件</h2><h3 id="6-1-安装loader"><a href="#6-1-安装loader" class="headerlink" title="6.1 安装loader"></a>6.1 安装loader</h3><ul>
<li>less-loader负责把less源码转成css代码</li>
<li>css-loader负责读取css代码</li>
<li>style-loader负责在css代码转变成style标签并作为页内样式插入到页面中去<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install less style-loader css-loader less-loader --save-dev</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="6-2-修改配置文件webpack-config-js"><a href="#6-2-修改配置文件webpack-config-js" class="headerlink" title="6.2 修改配置文件webpack.config.js"></a>6.2 修改配置文件<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+  &#123;</span></div><div class="line"><span class="addition">+        test: /\.less/,</span></div><div class="line"><span class="addition">+        loader: 'style!css!less'</span></div><div class="line"><span class="addition">+  &#125;</span></div></pre></td></tr></table></figure>
<h3 id="6-3-增加less文件-src-index-less"><a href="#6-3-增加less文件-src-index-less" class="headerlink" title="6.3 增加less文件 src/index.less"></a>6.3 增加less文件 <code>src/index.less</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">@color: red;</div><div class="line">.red &#123;</div><div class="line">  color: @color;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="6-4-在src-index-js中引入’less’文件"><a href="#6-4-在src-index-js中引入’less’文件" class="headerlink" title="6.4 在src/index.js中引入’less’文件"></a>6.4 在<code>src/index.js</code>中引入’less’文件</h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+  require('./index.less');</span></div></pre></td></tr></table></figure>
<h3 id="6-5-修改build-index-html-使用red"><a href="#6-5-修改build-index-html-使用red" class="headerlink" title="6.5 修改build/index.html,使用red"></a>6.5 修改<code>build/index.html</code>,使用<code>red</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="deletion">- &lt;div id="app"&gt;&lt;/div&gt;</span></div><div class="line"><span class="addition">+ &lt;div id="app" class="red"&gt;&lt;/div&gt;</span></div></pre></td></tr></table></figure>
<h2 id="7-资源文件的加载"><a href="#7-资源文件的加载" class="headerlink" title="7. 资源文件的加载"></a>7. 资源文件的加载</h2><p>实现CSS、图标、图片等资源文件加载</p>
<h3 id="7-1-安装bootstrap和相应的loader"><a href="#7-1-安装bootstrap和相应的loader" class="headerlink" title="7.1 安装bootstrap和相应的loader"></a>7.1 安装bootstrap和相应的loader</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ npm install bootstrap --save</div><div class="line">$ npm install file-loader url-loader --save-dev</div></pre></td></tr></table></figure>
<h3 id="7-2-修改-webpack-config-js"><a href="#7-2-修改-webpack-config-js" class="headerlink" title="7.2 修改 webpack.config.js"></a>7.2 修改 <code>webpack.config.js</code></h3><p>设置css文件和图标文件的加载器<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"> devServer: &#123;</div><div class="line">        stats: &#123;colors: true&#125;, //显示颜色</div><div class="line"></div><div class="line"><span class="addition">+ &#123;</span></div><div class="line"><span class="addition">+     test: /\.css/,</span></div><div class="line"><span class="addition">+     loader: 'style!css'</span></div><div class="line"><span class="addition">+ &#125;,</span></div><div class="line"><span class="addition">+ &#123;</span></div><div class="line"><span class="addition">+      test: /\.(woff|woff2|ttf|svg|eot)$/,</span></div><div class="line"><span class="addition">+      loader: "url?limit=8192"</span></div><div class="line"><span class="addition">+ &#125;,</span></div><div class="line"><span class="addition">+ &#123;</span></div><div class="line"><span class="addition">+       test: /\.(jpg|png)$/,</span></div><div class="line"><span class="addition">+       loader: "url?limit=8192"</span></div><div class="line"><span class="addition">+  &#125;</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>配置信息的参数“?limit=8192”表示将所有小于8kb的图片都转为base64形式(其实应该说超过8kb的才使用<code>url-loader</code> 来映射到文件，否则转为<code>data url</code>形式)</p>
</blockquote>
<p><a href="http://www.webhek.com/data-url/" target="_blank" rel="external">DataURL和图片</a></p>
<h3 id="7-3-修改-src-index-js"><a href="#7-3-修改-src-index-js" class="headerlink" title="7.3 修改 src/index.js"></a>7.3 修改 <code>src/index.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+  import 'bootstrap/dist/css/bootstrap.css';</span></div><div class="line"><span class="addition">+  var img = document.createElement("img");</span></div><div class="line"><span class="addition">+  img.className = 'img-circle';</span></div><div class="line"><span class="addition">+  img.src = require("./zfpx.jpg");</span></div><div class="line"><span class="addition">+  document.body.appendChild(img);</span></div></pre></td></tr></table></figure>
<h3 id="7-4-修改-build-index-html"><a href="#7-4-修改-build-index-html" class="headerlink" title="7.4 修改 build/index.html"></a>7.4 修改 <code>build/index.html</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ &lt;button class="btn btn-success"&gt;bootstrap按钮&lt;/button&gt;</span></div><div class="line"><span class="addition">+ &lt;span class="glyphicon glyphicon-qrcode"&gt;&lt;/span&gt;</span></div><div class="line"><span class="addition">+ &lt;img src="/zfpx.jpg" class="img-rounded" alt="lufy"&gt;</span></div></pre></td></tr></table></figure>
<h2 id="8-自动刷新"><a href="#8-自动刷新" class="headerlink" title="8. 自动刷新"></a>8. 自动刷新</h2><p>在源码修改之后可以自动刷新页面<br>修改<code>webpack.config.js</code><br><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">         contentBase: 'build',</div><div class="line"><span class="addition">+        inline:true, //设置自动刷新</span></div><div class="line">         proxy: [</div></pre></td></tr></table></figure></p>
<h2 id="9-自动产出html"><a href="#9-自动产出html" class="headerlink" title="9. 自动产出html"></a>9. 自动产出html</h2><h3 id="9-1-创建html模板文件"><a href="#9-1-创建html模板文件" class="headerlink" title="9.1 创建html模板文件"></a>9.1 创建html模板文件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cd src &amp;&amp; touch index.html</div></pre></td></tr></table></figure>
<h3 id="9-2-下载webpack插件"><a href="#9-2-下载webpack插件" class="headerlink" title="9.2 下载webpack插件"></a>9.2 下载webpack插件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install html-webpack-plugin --save-dev</div></pre></td></tr></table></figure>
<h3 id="9-3-修改webpack-config-js"><a href="#9-3-修改webpack-config-js" class="headerlink" title="9.3 修改webpack.config.js"></a>9.3 修改<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+  var HtmlWebpackPlugin = require('html-webpack-plugin');</span></div><div class="line"><span class="addition">+  plugins: [</span></div><div class="line"><span class="addition">+        new HtmlWebpackPlugin(&#123;</span></div><div class="line"><span class="addition">+          title: 'zhufeng-react',//标题</span></div><div class="line"><span class="addition">+          template: './src/index.html', //模板文件</span></div><div class="line"><span class="addition">+          filename:'./index.html' //产出后的文件名称</span></div><div class="line"><span class="addition">+        &#125;)</span></div><div class="line"><span class="addition">+  ]</span></div></pre></td></tr></table></figure>
<h2 id="10-自动打开浏览器"><a href="#10-自动打开浏览器" class="headerlink" title="10. 自动打开浏览器"></a>10. 自动打开浏览器</h2><h3 id="10-1-安装插件"><a href="#10-1-安装插件" class="headerlink" title="10.1 安装插件"></a>10.1 安装插件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install open-browser-webpack-plugin --save-dev</div></pre></td></tr></table></figure>
<h3 id="10-2-修改webpack-config-js"><a href="#10-2-修改webpack-config-js" class="headerlink" title="10.2 修改webpack.config.js"></a>10.2 修改<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ var openBrowserWebpackPlugin = require('open-browser-webpack-plugin');</span></div><div class="line"><span class="addition">+ plugin: [</span></div><div class="line"><span class="addition">+   new openBrowserWebpackPlugin(&#123; url: 'http://localhost:8080' &#125;)</span></div><div class="line"><span class="addition">+ ]</span></div></pre></td></tr></table></figure>
<h2 id="11-区分环境标识"><a href="#11-区分环境标识" class="headerlink" title="11. 区分环境标识"></a>11. 区分环境标识</h2><h3 id="11-1-在脚本中设置环境变量"><a href="#11-1-在脚本中设置环境变量" class="headerlink" title="11.1 在脚本中设置环境变量"></a>11.1 在脚本中设置环境变量</h3><p>WIN系统<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ "scripts": &#123;</span></div><div class="line"><span class="addition">+    "publish-dev": "set BUILD_ENV=dev &amp;&amp; webpack-dev-server",</span></div><div class="line"><span class="addition">+    "publish-prod": "set BUILD_ENV=prod &amp;&amp; webpack-dev-server"</span></div><div class="line"><span class="addition">+ &#125;</span></div></pre></td></tr></table></figure></p>
<p>MAC系统<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ "scripts": &#123;</span></div><div class="line"><span class="addition">+    "publish-dev": "export BUILD_ENV=dev &amp;&amp; webpack-dev-server",</span></div><div class="line"><span class="addition">+    "publish-prod": "export BUILD_ENV=prod &amp;&amp; webpack-dev-server"</span></div><div class="line"><span class="addition">+ &#125;</span></div></pre></td></tr></table></figure></p>
<h3 id="11-2-修改webpack-config-js"><a href="#11-2-修改webpack-config-js" class="headerlink" title="11.2 修改webpack.config.js"></a>11.2 修改<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ var webpack = require('webpack');</span></div><div class="line"><span class="addition">+ var definePlugin = new webpack.DefinePlugin(&#123;</span></div><div class="line"><span class="addition">+     __DEV__: (process.env.BUILD_DEV||'dev').trim() == 'dev'</span></div><div class="line"><span class="addition">+ &#125;);</span></div><div class="line"></div><div class="line"> plugins: [</div><div class="line"><span class="addition">+        definePlugin,</span></div><div class="line">        new HtmlWebpackPlugin</div></pre></td></tr></table></figure>
<h2 id="12-暴露全局对象"><a href="#12-暴露全局对象" class="headerlink" title="12. 暴露全局对象"></a>12. 暴露全局对象</h2><h3 id="12-1-安装暴露组件"><a href="#12-1-安装暴露组件" class="headerlink" title="12.1 安装暴露组件"></a>12.1 安装暴露组件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install expose-loader --save-dev</div></pre></td></tr></table></figure>
<h3 id="12-2-暴露到全局对象"><a href="#12-2-暴露到全局对象" class="headerlink" title="12.2 暴露到全局对象"></a>12.2 暴露到全局对象</h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+            &#123;</span></div><div class="line"><span class="addition">+                test: /jquery.js$/,</span></div><div class="line"><span class="addition">+                loader: "expose?jQuery"</span></div><div class="line"><span class="addition">+            &#125;</span></div></pre></td></tr></table></figure>
<h3 id="12-3-在html中使用"><a href="#12-3-在html中使用" class="headerlink" title="12.3 在html中使用"></a>12.3 在html中使用</h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ &lt;script&gt;</span></div><div class="line"><span class="addition">+     console.log(window.jQuery);</span></div><div class="line"><span class="addition">+ &lt;/script&gt;</span></div></pre></td></tr></table></figure>
<h2 id="13-css文件单独加载"><a href="#13-css文件单独加载" class="headerlink" title="13. css文件单独加载"></a>13. css文件单独加载</h2><h3 id="13-1-安装插件"><a href="#13-1-安装插件" class="headerlink" title="13.1 安装插件"></a>13.1 安装插件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install extract-text-webpack-plugin --save-dev</div></pre></td></tr></table></figure>
<h3 id="13-2-修改webpack-config-js"><a href="#13-2-修改webpack-config-js" class="headerlink" title="13.2 修改webpack.config.js"></a>13.2 修改<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+      var ExtractTextPlugin = require("extract-text-webpack-plugin");</span></div><div class="line"></div><div class="line"><span class="addition">+      &#123;</span></div><div class="line"><span class="addition">+           test: /\.less/,</span></div><div class="line"><span class="addition">+           loader: ExtractTextPlugin.extract("style-loader"</span></div><div class="line">                     , "css-loader!less-loader")</div><div class="line"><span class="addition">+      &#125;,</span></div><div class="line"><span class="addition">+      &#123;</span></div><div class="line"><span class="addition">+           test: /\.css/,</span></div><div class="line"><span class="addition">+           loader: ExtractTextPlugin.extract("style-loader"</span></div><div class="line">                     , "css-loader")</div><div class="line"><span class="addition">+      &#125;</span></div><div class="line"></div><div class="line">        plugins: [</div><div class="line">        definePlugin,</div><div class="line"><span class="addition">+        new ExtractTextPlugin("bundle.css"),</span></div></pre></td></tr></table></figure>
<h2 id="14-应用代码和第三方代码分离"><a href="#14-应用代码和第三方代码分离" class="headerlink" title="14. 应用代码和第三方代码分离"></a>14. 应用代码和第三方代码分离</h2><h3 id="14-1-修改webpack-config-js"><a href="#14-1-修改webpack-config-js" class="headerlink" title="14.1 修改webpack.config.js"></a>14.1 修改<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="deletion">- entry: path.resolve(__dirname, 'src/index.js'),//入口文件</span></div><div class="line"><span class="addition">+ entry: &#123;</span></div><div class="line"><span class="addition">+        index:path.resolve(__dirname, 'src/index.js'),</span></div><div class="line"><span class="addition">+        vendor: ['jquery'],</span></div><div class="line"><span class="addition">+    &#125;</span></div><div class="line"> output: &#123;</div><div class="line">        path: path.resolve(__dirname, 'build'),//输出路径</div><div class="line"><span class="deletion">-        filename: 'bundle.js' //输出文件名</span></div><div class="line"><span class="addition">+        filename: '[name].js' //输出动态文件名</span></div><div class="line">    &#125;,</div><div class="line">//如果没有这句话，vendor只是一个普通的入口文件而矣,有了此语句会把vendor中的模块</div><div class="line">//从index中分离出来,不再包含在打包出来的index.js中,会成生一个zfvendor.js文件</div><div class="line"><span class="addition">+ new webpack.optimize.CommonsChunkPlugin('vendor', 'zfvendor.js'),</span></div></pre></td></tr></table></figure>
<h2 id="15-提取其它公共的代码"><a href="#15-提取其它公共的代码" class="headerlink" title="15. 提取其它公共的代码"></a>15. 提取其它公共的代码</h2><h3 id="15-1-增加a-js和b-js"><a href="#15-1-增加a-js和b-js" class="headerlink" title="15.1 增加a.js和b.js"></a>15.1 增加<code>a.js</code>和<code>b.js</code></h3><ul>
<li><p>components.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">export var  name = &apos;zfpx&apos;;</div><div class="line">export var  age = 8;</div></pre></td></tr></table></figure>
</li>
<li><p>a.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var &#123;name&#125; = require(&apos;./component&apos;);</div><div class="line">console.log(name);</div></pre></td></tr></table></figure>
</li>
<li><p>b.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var &#123;name&#125; = require(&apos;./component&apos;);</div><div class="line">console.log(age);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="15-2-修改webpack-config-js"><a href="#15-2-修改webpack-config-js" class="headerlink" title="15.2 修改webpack.config.js"></a>15.2 修改<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">    entry: &#123;</div><div class="line"><span class="addition">+        a:path.resolve('src/a.js'),</span></div><div class="line"><span class="addition">+        b: path.resolve('src/b.js')</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="deletion">-   new webpack.optimize.CommonsChunkPlugin('vendor', 'vendor.js'),</span></div><div class="line"><span class="addition">+   new webpack.optimize.CommonsChunkPlugin('common.js'),</span></div><div class="line"></div><div class="line">  plugins:[</div><div class="line"><span class="addition">+    new htmlWebpackPlugin(&#123;</span></div><div class="line"><span class="addition">+                title:'珠峰Webpack',</span></div><div class="line"><span class="addition">+                template:'./src/index.html',</span></div><div class="line"><span class="addition">+                filename:'./a.html',</span></div><div class="line"><span class="addition">+                chunks:['a','common.js']//包含产出的资源</span></div><div class="line"><span class="addition">+           &#125;),</span></div><div class="line"><span class="addition">+    new htmlWebpackPlugin(&#123;</span></div><div class="line"><span class="addition">+                title:'珠峰Webpack',</span></div><div class="line"><span class="addition">+                template:'./src/index.html',</span></div><div class="line"><span class="addition">+                filename:'./b.html',</span></div><div class="line"><span class="addition">+                chunks:['b','common.js']//包含产出的资源</span></div><div class="line"><span class="addition">+            &#125;)</span></div><div class="line">   ]</div></pre></td></tr></table></figure>
<h2 id="16-添加哈希值"><a href="#16-添加哈希值" class="headerlink" title="16. 添加哈希值"></a>16. 添加哈希值</h2><h3 id="16-1-修改webpack-config-js"><a href="#16-1-修改webpack-config-js" class="headerlink" title="16.1 修改webpack.config.js"></a>16.1 修改<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="deletion">- filename: '[name].js' //输出文件名</span></div><div class="line"><span class="addition">+ filename: '[name].[hash].js' //输出文件名</span></div></pre></td></tr></table></figure>
<h2 id="17-压缩资源"><a href="#17-压缩资源" class="headerlink" title="17. 压缩资源"></a>17. 压缩资源</h2><h3 id="17-1-修改webpack-config-js"><a href="#17-1-修改webpack-config-js" class="headerlink" title="17.1 修改webpack.config.js"></a>17.1 修改<code>webpack.config.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+        new webpack.optimize.UglifyJsPlugin(&#123;</span></div><div class="line"><span class="addition">+            compress: &#123;</span></div><div class="line"><span class="addition">+                warnings: false</span></div><div class="line"><span class="addition">+            &#125;</span></div><div class="line"><span class="addition">+        &#125;),</span></div><div class="line"><span class="addition">+        new webpack.optimize.MinChunkSizePlugin(&#123;</span></div><div class="line"><span class="addition">+            compress: &#123;</span></div><div class="line"><span class="addition">+                warnings: false</span></div><div class="line"><span class="addition">+            &#125;</span></div><div class="line"><span class="addition">+        &#125;),</span></div><div class="line"><span class="addition">+        // 查找相等或近似的模块，避免在最终生成的文件中出现重复的模块</span></div><div class="line"><span class="addition">+        new webpack.optimize.DedupePlugin(),</span></div><div class="line"><span class="addition">+        // 按引用频度来排序 ID，以便达到减少文件大小的效果</span></div><div class="line"><span class="addition">+        new webpack.optimize.OccurenceOrderPlugin(),</span></div><div class="line"><span class="addition">+        new webpack.optimize.AggressiveMergingPlugin(&#123;</span></div><div class="line"><span class="addition">+            minSizeReduce: 1.5,</span></div><div class="line"><span class="addition">+            moveToParents: true</span></div><div class="line"><span class="addition">+        &#125;)</span></div></pre></td></tr></table></figure>
<h2 id="18-打包react"><a href="#18-打包react" class="headerlink" title="18. 打包react"></a>18. 打包react</h2><h3 id="18-1-安装"><a href="#18-1-安装" class="headerlink" title="18.1 安装"></a>18.1 安装</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install react react-dom babel-preset-react --save-dev</div></pre></td></tr></table></figure>
<h3 id="18-2-增加webpack-config-react-js"><a href="#18-2-增加webpack-config-react-js" class="headerlink" title="18.2 增加webpack.config.react.js"></a>18.2 增加<code>webpack.config.react.js</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="keyword">var</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</div><div class="line"><span class="keyword">var</span> openBrowserWebpackPlugin = <span class="built_in">require</span>(<span class="string">'open-browser-webpack-plugin'</span>);</div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    <span class="attr">entry</span>: path.resolve(__dirname,<span class="string">'react/index.js'</span>),</div><div class="line">    <span class="attr">output</span>: &#123;</div><div class="line">        <span class="attr">path</span>: path.resolve(__dirname, <span class="string">'build'</span>),<span class="comment">//输出路径</span></div><div class="line">        filename: <span class="string">'bundle.js'</span> <span class="comment">//输出文件名</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">module</span>: &#123;</div><div class="line">        <span class="attr">loaders</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">test</span>: <span class="regexp">/\.jsx?$/</span>,</div><div class="line">                <span class="attr">loader</span>: <span class="string">'babel'</span>,</div><div class="line">                <span class="attr">query</span>: &#123; <span class="attr">presets</span>: [<span class="string">"es2015"</span>,<span class="string">"react"</span>] &#125;,</div><div class="line">                <span class="attr">exclude</span>:<span class="regexp">/node_modules/</span>,</div><div class="line">                <span class="attr">include</span>:path.resolve(__dirname,<span class="string">'react'</span>)</div><div class="line">            &#125;</div><div class="line">        ],</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">devServer</span>: &#123;</div><div class="line">        <span class="attr">inline</span>:<span class="literal">true</span>,</div><div class="line">        <span class="attr">stats</span>: &#123;<span class="attr">colors</span>: <span class="literal">true</span>&#125;, <span class="comment">//显示颜色</span></div><div class="line">        port: <span class="number">8080</span>,<span class="comment">//端口</span></div><div class="line">        contentBase: <span class="string">'build'</span>,<span class="comment">//指定静态文件的根目录</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">plugins</span>: [</div><div class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</div><div class="line">            <span class="attr">title</span>: <span class="string">'珠峰React课程'</span>,</div><div class="line">            <span class="attr">template</span>: <span class="string">'./react/index.html'</span></div><div class="line">        &#125;),</div><div class="line">        <span class="keyword">new</span> openBrowserWebpackPlugin(&#123; <span class="attr">url</span>: <span class="string">'http://localhost:8080'</span> &#125;),</div><div class="line">    ]</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="关于babel的预设有三种传参方法"><a href="#关于babel的预设有三种传参方法" class="headerlink" title="关于babel的预设有三种传参方法"></a>关于babel的预设有三种传参方法</h4><ol>
<li>在<code>.babelrc</code> 中配置 <code>&quot;presets&quot;: [&quot;es2015&quot;, &quot;stage-0&quot;,&quot;react&quot;],</code></li>
<li>在loader中增加 <code>query: { presets: [&quot;es2015&quot;,&quot;react&quot;] },</code>,这会对所有的loader生效</li>
<li><code>loaders: [&#39;react-hot&#39;,&#39;babel?presets[]=es2015&amp;presets[]=react&#39;]</code> 只针对某个loader生效</li>
</ol>
<h3 id="18-3-在package-json中增加"><a href="#18-3-在package-json中增加" class="headerlink" title="18.3 在package.json中增加"></a>18.3 在package.json中增加</h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ "scripts": &#123;</span></div><div class="line"><span class="addition">+     "build-react": "webpack --config webpack.config.react.js",</span></div><div class="line"><span class="addition">+     "start-react":"webpack-dev-server --config webpack.config.react.js"</span></div><div class="line"><span class="addition">+   &#125;</span></div></pre></td></tr></table></figure>
<h3 id="18-4-启动服务"><a href="#18-4-启动服务" class="headerlink" title="18.4 启动服务"></a>18.4 启动服务</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run start-react</div></pre></td></tr></table></figure>
<h2 id="19-react模块热加载"><a href="#19-react模块热加载" class="headerlink" title="19. react模块热加载"></a>19. react模块热加载</h2><h3 id="19-1-安装"><a href="#19-1-安装" class="headerlink" title="19.1 安装"></a>19.1 安装</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install react-hot-loader --save-dev</div></pre></td></tr></table></figure>
<h3 id="19-2-修改webpack-config-react-js"><a href="#19-2-修改webpack-config-react-js" class="headerlink" title="19.2 修改webpack.config.react.js"></a>19.2 修改<code>webpack.config.react.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">     test: /\.jsx?$/,</div><div class="line"><span class="deletion">-    loaders: ['babel?presets[]=es2015&amp;presets[]=react'],</span></div><div class="line"><span class="deletion">-     query: &#123; presets: ["es2015","react"] &#125;,</span></div><div class="line"><span class="addition">+     loaders: ['react-hot','babel?presets[]=es2015&amp;presets[]=react'],</span></div><div class="line">      exclude:/node_modules/,</div><div class="line">      include:path.resolve(__dirname,'react')</div><div class="line">     &#125;</div><div class="line">     devServer: &#123;</div><div class="line"><span class="addition">+       hot:true,</span></div><div class="line">        inline:true,</div><div class="line">     plugins: [</div><div class="line"><span class="addition">+    new webpack.HotModuleReplacementPlugin()</span></div><div class="line">      ]</div></pre></td></tr></table></figure>
<blockquote>
<p>注意: 如果有多个loader的话，就不可以用query属性传参了，只能用?查询字符串传参数</p>
</blockquote>
<h3 id="19-4-启动服务"><a href="#19-4-启动服务" class="headerlink" title="19.4 启动服务"></a>19.4 启动服务</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run start-react</div></pre></td></tr></table></figure>
<blockquote>
<p>只要修改了源代码，就会在不刷新页面的情况下刷新某个组件</p>
</blockquote>
<h2 id="20-重命名类名"><a href="#20-重命名类名" class="headerlink" title="20 重命名类名"></a>20 重命名类名</h2><p>为了避免不同的组件使用的类名重复可以对这些类名进行重命名</p>
<h3 id="20-1-增加style-css文件"><a href="#20-1-增加style-css文件" class="headerlink" title="20.1 增加style.css文件"></a>20.1 增加<code>style.css</code>文件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.red&#123;</div><div class="line">    <span class="attr">color</span>:green;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="20-2-修改webpack-config-react-js"><a href="#20-2-修改webpack-config-react-js" class="headerlink" title="20.2 修改webpack.config.react.js"></a>20.2 修改<code>webpack.config.react.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+ &#123;</span></div><div class="line"><span class="addition">+  test: /\.css/,</span></div><div class="line"><span class="addition">+  loaders: [ 'style-loader',</span></div><div class="line"><span class="addition">+   'css-loader?modules&amp;localIdentName=[name]__[local]___[hash:base64:5]']</span></div><div class="line"><span class="addition">+ &#125;</span></div></pre></td></tr></table></figure>
<h3 id="20-3-修改-react-app-js"><a href="#20-3-修改-react-app-js" class="headerlink" title="20.3 修改 react/app.js"></a>20.3 修改 <code>react/app.js</code></h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="addition">+    import styles from './style.css'</span></div><div class="line">     export default class App extends React.Component&#123;</div><div class="line">         render()&#123;</div><div class="line">             return (</div><div class="line"><span class="deletion">-                &lt;h1&gt;欢迎光临珠峰培训&lt;/h1&gt;</span></div><div class="line"><span class="addition">+                &lt;h1 className=&#123;styles.red&#125;&gt;欢迎光临珠峰培训&lt;/h1&gt;</span></div><div class="line">            )</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/2016/12/15/webpack/">
    <time datetime="2016-12-15T12:06:31.000Z" class="entry-date">
        2016-12-15
    </time>
</a>
    
    
  <span class="article-delim">&#8226;</span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/2016年12月/">2016年12月</a></li></ul>

    </footer>
</article>


    
<nav class="nav-single">
    <h3 class="assistive-text">文章导航</h3>
    
        <span class="nav-previous"><a href="/2016/12/15/gulp/" rel="prev"><span class="meta-nav">←</span> gulp 的四个核心api</a></span>
    
    
        <span class="nav-next"><a href="/2016/12/16/Flex/" rel="next">Flex弹性盒子布局 <span class="meta-nav">→</span></a></span>
    
</nav><!-- .nav-single -->







</div></div>
        <div id="secondary" class="widget-area" role="complementary">
  
    <!--
<aside id="search" class="widget widget_search"><form role="search" method="get" accept-charset="utf-8" id="searchform" class="searchform" action="//google.com/search">
    <div>
        <input type="text" value="" name="s" id="s" />
        <input type="submit" id="searchsubmit" value="搜索" />
    </div>
</form></aside>-->

  
    
  
    
  
    
  <aside class="widget">
    <h3 class="widget-title">最近的文章</h3>
    <div class="widget-content">
      <ul>
        
          <li>
            <a href="/2017/04/05/vue/">vue概述</a>
          </li>
        
          <li>
            <a href="/2016/12/16/Flex/">Flex弹性盒子布局</a>
          </li>
        
          <li>
            <a href="/2016/12/15/webpack/">由浅入深了解webpack的使用</a>
          </li>
        
          <li>
            <a href="/2016/12/15/gulp/">gulp 的四个核心api</a>
          </li>
        
          <li>
            <a href="/2016/12/14/jQuery/">轻松掌握jQuery的使用</a>
          </li>
        
      </ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-content">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2016年12月/">2016年12月</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/2017年04月/">2017年04月</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">云标签</h3>
    <div class="widget-content tagcloud">
      <a href="/tags/2016年12月/" style="font-size: 20px;">2016年12月</a> <a href="/tags/2017年04月/" style="font-size: 10px;">2017年04月</a>
    </div>
  </aside>

  
</div>
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2017 顾佳伟
    All rights reserved.</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</footer>
    
<div id="bg"></div>

  </div>
</body>
</html>